---
import type { InferEntrySchema } from 'astro:content';
import BlogPostHead from './BlogPostHead.astro';

type Props = {
  post: InferEntrySchema<'blog'>;
};

const { post } = Astro.props;
const { title, date, keywords, mainImage, mainImageAlt } = post;
---

<style>
  .blog-post-article {
    backdrop-filter: blur(1px);
    max-width: var(--main-width);
    padding: var(--xl-spacing) 0;
    margin: 0 auto var(--xl-spacing);
    background: var(--section-background-gradient);
  }
</style>

<style is:global>
  .blog-post-article {
    .blog-post-article-embed {
      max-width: 100%;

      &.video > iframe {
        width: 100%;
        height: 100%;
        aspect-ratio: 16 / 9;
      }
    }
  }
</style>

<article class="blog-post-article">
  <BlogPostHead
    title={title}
    date={date}
    keywords={keywords}
    mainImage={mainImage}
    mainImageAlt={mainImageAlt}
  />
  <slot />
</article>
